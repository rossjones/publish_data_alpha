{% extends 'main_with_navbar.html' %}
{% load static %}
{% load flow_state %}
{% load i18n %}

{% block page_title %}
  {% trans "Supporting documents" %}
{% endblock %}

{% block inner_content %}
  <main id="content" role="main" tabindex="-1">
    <h1 class="heading-large">
      {% trans "Links to supporting documents" %}
    </h1>

    <table>
      {% blocktrans %}
        <thead>
          <tr>
            <th>Link name</th>
            <th>URL</th>
            <th>Valid</th>
            <th><span class="visuallyhidden">Actions</span></th>
          </tr>
        </thead>
      {% endblocktrans %}
      <tbody>
        {% for file in dataset.files.all %}
          {% if file.is_documentation %}
            <tr>
              <td>{{ file.title }} </td>
              <td>{{ file.url }} </td>
              <td>{% if not file.is_broken %}âœ”{% else %}&#x2716;{% endif%}</td>
              <td>
                <a href="{% url 'edit_dataset_adddoc' dataset.name file.id %}">
                  {% trans "Edit" %}
                </a>
                <a href="{% url 'edit_dataset_deletefile' dataset.name file.id %}">
                  {% trans "Delete" %}
                </a>
              </td>
            </tr>
          {% endif %}
        {% endfor %}
      </tbody>
    </table>

    <p>
      <a href="{% url 'edit_dataset_adddoc' dataset.name %}">
        {% trans "Add another link" %}
      </a>
    </p>
    <p>
      <a
          {% if request|is_checking %}
          href="{% url 'publish_dataset' dataset.name %}"
          {% elif request|is_editing %}
          href="{% url 'edit_full_dataset' dataset.name %}"
          {% else %}
          href="{% url 'edit_dataset_notifications' dataset.name %}"
          {% endif %}
          class="button">
        {% trans "Save and continue" %}
      </a>
    </p>

  </main>
{% endblock %}
